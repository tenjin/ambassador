#!bash

GOLDDIR=${1:-python/tests/gold}

rm -rf "$GOLDDIR"
mkdir "$GOLDDIR"

kubectl cp -n default acceptancegrpcbridgetest:/tmp/ambassador "$GOLDDIR/acceptancegrpcbridgetest"
kubectl cp -n default acceptancegrpctest:/tmp/ambassador "$GOLDDIR/acceptancegrpctest"
kubectl cp -n default acceptancegrpcwebtest:/tmp/ambassador "$GOLDDIR/acceptancegrpcwebtest"
kubectl cp -n default ambassadoridtest:/tmp/ambassador "$GOLDDIR/ambassadoridtest"
kubectl cp -n default authenticationgrpctest:/tmp/ambassador "$GOLDDIR/authenticationgrpctest"
kubectl cp -n default authenticationheaderrouting:/tmp/ambassador "$GOLDDIR/authenticationheaderrouting"
kubectl cp -n default authenticationhttpbufferedtest:/tmp/ambassador "$GOLDDIR/authenticationhttpbufferedtest"
kubectl cp -n default authenticationhttpfailuremodeallowtest:/tmp/ambassador "$GOLDDIR/authenticationhttpfailuremodeallowtest"
kubectl cp -n default authenticationhttppartialbuffertest:/tmp/ambassador "$GOLDDIR/authenticationhttppartialbuffertest"
kubectl cp -n default authenticationtest:/tmp/ambassador "$GOLDDIR/authenticationtest"
kubectl cp -n default authenticationtestv1:/tmp/ambassador "$GOLDDIR/authenticationtestv1"
kubectl cp -n default authenticationwebsockettest:/tmp/ambassador "$GOLDDIR/authenticationwebsockettest"
kubectl cp -n default circuitbreakingtestcanflake:/tmp/ambassador "$GOLDDIR/circuitbreakingtestcanflake"
kubectl cp -n default clientcertificateauthentication:/tmp/ambassador "$GOLDDIR/clientcertificateauthentication"
kubectl cp -n default clitest:/tmp/ambassador "$GOLDDIR/clitest"
# kubectl cp -n default consultest:/tmp/ambassador "$GOLDDIR/consultest"
kubectl cp -n default dogstatsdtest:/tmp/ambassador "$GOLDDIR/dogstatsdtest"
# kubectl cp -n default endpointgrpctest:/tmp/ambassador "$GOLDDIR/endpointgrpctest"
kubectl cp -n default envoylogtest:/tmp/ambassador "$GOLDDIR/envoylogtest"
kubectl cp -n default globalcircuitbreakingtest:/tmp/ambassador "$GOLDDIR/globalcircuitbreakingtest"
kubectl cp -n default globalcorstest:/tmp/ambassador "$GOLDDIR/globalcorstest"
# kubectl cp -n default globalloadbalancing:/tmp/ambassador "$GOLDDIR/globalloadbalancing"
kubectl cp -n default gzipminimumconfigtest:/tmp/ambassador "$GOLDDIR/gzipminimumconfigtest"
kubectl cp -n default gzipnotsupportedcontenttypetest:/tmp/ambassador "$GOLDDIR/gzipnotsupportedcontenttypetest"
kubectl cp -n default gziptest:/tmp/ambassador "$GOLDDIR/gziptest"
# kubectl cp -n default ingressstatustest1:/tmp/ambassador "$GOLDDIR/ingressstatustest1"
# kubectl cp -n default ingressstatustest2:/tmp/ambassador "$GOLDDIR/ingressstatustest2"
# kubectl cp -n default ingressstatustestacrossnamespaces:/tmp/ambassador "$GOLDDIR/ingressstatustestacrossnamespaces"
# kubectl cp -n default ingressstatustestwithannotations:/tmp/ambassador "$GOLDDIR/ingressstatustestwithannotations"
# kubectl cp -n default knative071test:/tmp/ambassador "$GOLDDIR/knative071test"
# kubectl cp -n default knative080test:/tmp/ambassador "$GOLDDIR/knative080test"
kubectl cp -n default linkerdheadermapping:/tmp/ambassador "$GOLDDIR/linkerdheadermapping"
# kubectl cp -n default loadbalancertest:/tmp/ambassador "$GOLDDIR/loadbalancertest"
kubectl cp -n default logservicetest:/tmp/ambassador "$GOLDDIR/logservicetest"
# kubectl cp -n default luatest:/tmp/ambassador "$GOLDDIR/luatest"
# kubectl cp -n default permappingloadbalancing:/tmp/ambassador "$GOLDDIR/permappingloadbalancing"
kubectl cp -n default ratelimittest:/tmp/ambassador "$GOLDDIR/ratelimittest"
kubectl cp -n default ratelimitv0test:/tmp/ambassador "$GOLDDIR/ratelimitv0test"
kubectl cp -n default ratelimitv1test:/tmp/ambassador "$GOLDDIR/ratelimitv1test"
kubectl cp -n default ratelimitv1withtlstest:/tmp/ambassador "$GOLDDIR/ratelimitv1withtlstest"
kubectl cp -n default redirecttests:/tmp/ambassador "$GOLDDIR/redirecttests"
kubectl cp -n default redirecttestsinvalidsecret:/tmp/ambassador "$GOLDDIR/redirecttestsinvalidsecret"
kubectl cp -n default redirecttestswithproxyproto:/tmp/ambassador "$GOLDDIR/redirecttestswithproxyproto"
kubectl cp -n default retrypolicytest:/tmp/ambassador "$GOLDDIR/retrypolicytest"
kubectl cp -n default saferegexmapping:/tmp/ambassador "$GOLDDIR/saferegexmapping"
kubectl cp -n default servernametest:/tmp/ambassador "$GOLDDIR/servernametest"
kubectl cp -n default statsdtest:/tmp/ambassador "$GOLDDIR/statsdtest"
kubectl cp -n default tls:/tmp/ambassador "$GOLDDIR/tls"
kubectl cp -n default tlscontextciphersuites:/tmp/ambassador "$GOLDDIR/tlscontextciphersuites"
kubectl cp -n default tlscontextprotocolmaxversion:/tmp/ambassador "$GOLDDIR/tlscontextprotocolmaxversion"
kubectl cp -n default tlscontextprotocolminversion:/tmp/ambassador "$GOLDDIR/tlscontextprotocolminversion"
kubectl cp -n default tlscontextstest:/tmp/ambassador "$GOLDDIR/tlscontextstest"
kubectl cp -n default tlscontexttest:/tmp/ambassador "$GOLDDIR/tlscontexttest"
# kubectl cp -n default tlsingresstest:/tmp/ambassador "$GOLDDIR/tlsingresstest"
kubectl cp -n default tlsinvalidsecret:/tmp/ambassador "$GOLDDIR/tlsinvalidsecret"
kubectl cp -n default tlsoriginationsecret:/tmp/ambassador "$GOLDDIR/tlsoriginationsecret"
kubectl cp -n default tracingexternalauthtest:/tmp/ambassador "$GOLDDIR/tracingexternalauthtest"
kubectl cp -n default tracingtest:/tmp/ambassador "$GOLDDIR/tracingtest"
kubectl cp -n default tracingtestshorttraceid:/tmp/ambassador "$GOLDDIR/tracingtestshorttraceid"
kubectl cp -n default unsaferegexmapping:/tmp/ambassador "$GOLDDIR/unsaferegexmapping"
kubectl cp -n default xfpredirect:/tmp/ambassador "$GOLDDIR/xfpredirect"

kubectl cp -n empty-namespace empty:/tmp/ambassador "$GOLDDIR/empty"
kubectl cp -n plain-namespace plain:/tmp/ambassador "$GOLDDIR/plain"
kubectl cp -n tcp-namespace tcpmappingtest:/tmp/ambassador "$GOLDDIR/tcpmappingtest"
